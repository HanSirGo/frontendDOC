#### 1. **Web通信流程**

**(1)** **DNS解析**：客户端输入url，浏览器请求DNS服务器，通过DNS解析获取相对应的域名对应的ip

**(2)** **TCP连接**：通过ip地址找到ip对应的服务器，建立TCP链接

**(3)** **HTTP请求**：浏览器 发送 HTTP Request（请求包）后，服务器接收请求包后，开始处理请求包   *Ps: HTTP Request(请求包) 封装一个HTTP协议，制定了更多的数据传输规则*

**(4)** **响应**：服务器调用自身服务，返回 HTTP Response （响应包）

**(5)** **渲染**：客户端收到来自服务器的响应后，开始渲染这个 request包里的主体（body），等收到全部的内容后断开与服务器之间的 TCP 链接。 *Ps：断开与服务器之间的 TCP 链接：客户端与服务器之间的链接是有限制，不断开就不会链接其他请求。*

#### 2. **DNS解析流程**

![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml1892\wps1.jpg) 

#### 3. **Web服务器工作原理**

```
(1) 客户端通过TCP/IP 建立 到服务器的TCP连接

(2) 客户端向服务器发送HTTP协议请求包，请求服务器里的资源文件

(3) 服务器向客户端发送 HTTP协议应答包  ps：如果请求资源包有动态语言的内容，那么服务器会调动动态语言的解释引擎负责处理“动态内容”，并将处理得到的书籍返回给客户端

(4) 客户端与服务器断开，由客户端解释HTML文档（dom树，cssom树），在客户端屏幕上渲染图形结果
```



#### 4. **客户端请求到达服务端流程**

```
(1) 当客户端拿到服务端 域名对应的ip 后，浏览器会以一个随机端口向服务器的web程序（nginx...）的80端口发起TCP连接

(2) 该请求经过复杂的网络环境后到达服务端，进入服务器对应的网卡，再进入Linux内核的TCP/IP协议栈，一层一层的解开数据包，甚至经过防火墙，最终到达nginx程序，确认TCP/IP连接

(3) 确认tcp连接后，客户端继续发起HTTP请求，如常见的get、post请求
```

